# PL/SQL-Payroll-Management-System

---

## Project Overview

The **PL/SQL-Payroll-Management-System** is a PL/SQL-based project designed to calculate and store payroll information for employees using Oracle’s built-in HR schema.

The system automates payroll processing by calculating:

* Gross salary
* Tax amount
* Bonus amount
* Net pay

Payroll results are stored in a dedicated table for each pay period.

This project demonstrates:

* PL/SQL procedure development
* Salary-based tax calculation logic
* Commission-based bonus calculation
* Payroll record generation per employee
* Full ETL (Extract, Transform, Load) implementation inside Oracle

---

## ETL Process

This project implements a complete **ETL (Extract, Transform, Load)** workflow using PL/SQL.

### 1. Extract

Data is extracted from:

* `hr.employees` → employee salary and commission information
* `hr.salary_config` → salary ranges and corresponding tax rates

The procedure reads employee salary data and determines the correct tax rate based on predefined salary brackets.

---

### 2. Transform

The transformation logic is implemented inside the `payroll_date` stored procedure.

The procedure:

* Determines the tax rate based on salary range
* Calculates tax amount
* Calculates bonus for employees receiving commission
* Computes gross salary
* Computes net pay

Typical calculations:

* **Tax Amount** = Salary × Tax Rate
* **Bonus Amount** = Salary × Commission Percentage (if applicable)
* **Net Pay** = Gross Salary − Tax Amount + Bonus

All business rules are applied dynamically during execution.

---

### 3. Load

After calculations are completed, the processed payroll data is inserted into:

`hr.payroll_history`

This step completes the ETL cycle by storing transformed payroll results in a structured reporting table.

Each execution of the procedure generates payroll records for:

* Every employee
* A specific pay period
* With calculated salary details

This simulates how enterprise payroll systems store historical payroll transactions.

---

## Database Setup

The following tables were created in this project:

### 1. payroll_history (Table)

Stores payroll results for each employee per pay period.

```sql id="n4pk7f"
CREATE TABLE hr.payroll_history (
    payroll_id    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    employee_id   NUMBER REFERENCES hr.employees(employee_id),
    pay_period    DATE, 
    gross_salary  NUMBER,
    tax_amount    NUMBER,
    bonus_amount  NUMBER,
    net_pay       NUMBER,
    status        VARCHAR2(20) 
);
```

---

### 2. salary_config (Table)

Stores salary ranges and corresponding tax rates.

```sql id="zcitmx"
CREATE TABLE hr.salary_config (
    min_salary NUMBER,
    max_salary NUMBER,
    tax_rate   NUMBER 
);
```

Both table creation scripts are available in the `Tables.sql` file in the repository.

---

## Stored Procedure

### payroll_date (Stored Procedure)

This procedure:

* Loops through all employees
* Determines applicable tax rate using `salary_config`
* Calculates payroll values
* Inserts results into `payroll_history`
* Commits the transaction

The procedure acts as the ETL engine of the system.

Code for the procedure is available in the `Procedure.sql` file in the repository.

---

## Technologies Used

* Oracle Database
* Oracle HR Sample Schema
* PL/SQL
* TOAD for Oracle

The project was built entirely using PL/SQL in TOAD connected to Oracle Database utilizing the HR schema.

---

## Usage

### Step 1: Requirements

* Ensure Oracle Database is installed
* Ensure the HR schema is available and contains employee data
* Ensure proper privileges to create tables and procedures

---

### Step 2: Create Tables

Create:

* `hr.payroll_history`
* `hr.salary_config`

Using the scripts provided in the repository.

---

### Step 3: Populate Tax Configuration

Insert salary ranges and tax rates into:

`hr.salary_config`

Example structure:

| min_salary | max_salary | tax_rate |
| ---------- | ---------- | -------- |

---

### Step 4: Compile Procedure

Compile the `payroll_date` procedure in your Oracle environment.

Make sure there are no compilation errors.

---

### Step 5: Execute Payroll Calculation

Run the procedure for a specific pay period:

```sql id="slbhn0"
BEGIN 
   payroll_date(SYSDATE); 
END;
/
```

---

### Step 6: Verify Results

Check inserted payroll records:

```sql id="cvu6ot"
SELECT * FROM hr.payroll_history;
```

---

## Learning Outcomes

This project demonstrates:

* Full ETL implementation inside Oracle
* Payroll business logic automation
* Salary-based tax configuration management
* Commission-based bonus calculation
* Transaction handling and record persistence
* Real-world payroll processing simulation

---

## Future Improvements

* Add duplicate payroll detection per pay period
* Implement error logging table
* Add payroll status workflow (Processed, Pending, Approved)
* Create payroll summary reporting procedure
* Integrate with Oracle APEX or Power BI dashboard
